<!doctype html>
<html lang="en"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Create Doctor Account — Child Care IS</title>
<link rel="stylesheet" href="./styles.css"/>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
<header class="app-header"><div class="container header-content"><div class="branding"><h1>Sign Up — Doctor</h1></div></div></header>
<main class="container main-content">
  <section class="card">
    <form id="form">
      <label>Email<input type="email" id="email" required/></label>
      <label>Password<input type="password" id="password" required/></label>
      <button class="btn primary" type="submit">Create Account</button>
    </form>
    <div id="alert" class="alert" aria-live="polite"></div>
  </section>
</main>
<script type="module">
  import { initApp, registerUser } from './app/app.js';

  const alertEl = document.getElementById('alert');
  const setAlert = (m,t='info') => { alertEl.textContent=m; alertEl.className = `alert ${t}`; };
  initApp();

  document.getElementById('form').addEventListener('submit', async (e) => {
    e.preventDefault(); setAlert('Creating account...');
    try {
      await registerUser(document.getElementById('email').value.trim(), document.getElementById('password').value, 'staff');
      setAlert('Doctor account created. An admin may need to adjust your role.', 'success');
    } catch (err) { setAlert(err.message || String(err), 'error'); }
  });
</script>
</body></html>
